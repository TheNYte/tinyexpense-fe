var S=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var s=(r,e,t)=>(S(r,e,"read from private field"),t?t.call(r):e.get(r)),u=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},c=(r,e,t,i)=>(S(r,e,"write to private field"),i?i.call(r,t):e.set(r,t),t);var p=(r,e,t)=>(S(r,e,"access private method"),t);import{S as V,s as U,g as I,n as R,h as z,r as x,j as o,k as B,m as _,i as L}from"../chunks/chunk-3c821c25.js";import{F as N,a as D,b as w,v as q,c as y,d as C,f as J,e as Q,V as G}from"../chunks/chunk-73d0e9ce.js";import{a as A,F as O,I as T,B as H,T as K}from"../chunks/chunk-cfae00a3.js";import"../chunks/chunk-d6cd9d78.js";var d,a,n,l,f,j,b,E,F,W=(F=class extends V{constructor(e,t){super();u(this,f);u(this,b);u(this,d,void 0);u(this,a,void 0);u(this,n,void 0);u(this,l,void 0);c(this,a,void 0),c(this,d,e),this.setOptions(t),this.bindMethods(),p(this,f,j).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var i;const t=this.options;this.options=s(this,d).defaultMutationOptions(e),U(t,this.options)||s(this,d).getMutationCache().notify({type:"observerOptionsUpdated",mutation:s(this,n),observer:this}),(i=s(this,n))==null||i.setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=s(this,n))==null||e.removeObserver(this)}onMutationUpdate(e){p(this,f,j).call(this),p(this,b,E).call(this,e)}getCurrentResult(){return s(this,a)}reset(){c(this,n,void 0),p(this,f,j).call(this),p(this,b,E).call(this)}mutate(e,t){var i;return c(this,l,t),(i=s(this,n))==null||i.removeObserver(this),c(this,n,s(this,d).getMutationCache().build(s(this,d),this.options)),s(this,n).addObserver(this),s(this,n).execute(e)}},d=new WeakMap,a=new WeakMap,n=new WeakMap,l=new WeakMap,f=new WeakSet,j=function(){var t;const e=((t=s(this,n))==null?void 0:t.state)??I();c(this,a,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},b=new WeakSet,E=function(e){R.batch(()=>{var t,i,h,v,m,g,P,M;s(this,l)&&this.hasListeners()&&((e==null?void 0:e.type)==="success"?((i=(t=s(this,l)).onSuccess)==null||i.call(t,e.data,s(this,a).variables,s(this,a).context),(v=(h=s(this,l)).onSettled)==null||v.call(h,e.data,null,s(this,a).variables,s(this,a).context)):(e==null?void 0:e.type)==="error"&&((g=(m=s(this,l)).onError)==null||g.call(m,e.error,s(this,a).variables,s(this,a).context),(M=(P=s(this,l)).onSettled)==null||M.call(P,void 0,e.error,s(this,a).variables,s(this,a).context))),this.listeners.forEach(k=>{k(s(this,a))})})},F);function X(r,e){return typeof r=="function"?r(...e):!!r}function Y(r,e){const t=z(e),[i]=x.useState(()=>new W(t,r));x.useEffect(()=>{i.setOptions(r)},[i,r]);const h=x.useSyncExternalStore(x.useCallback(m=>i.subscribe(R.batchCalls(m)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),v=x.useCallback((m,g)=>{i.mutate(m,g).catch(Z)},[i]);if(h.error&&X(i.options.throwOnError,[h.error]))throw h.error;return{...h,mutate:v,mutateAsync:h.mutate}}function Z(){}function $(){const r=Y({mutationFn:e=>fetch(B.register,{body:JSON.stringify(e),headers:{"Content-Type":"application/json"},mode:"cors",method:"POST"}),onSuccess:async()=>{await _("/")}});return o.jsxs(A,{p:8,mx:"auto",w:"293px",bg:"white",rounded:"lg",shadow:"md",overflow:"hidden",children:[o.jsx(N,{initialValues:{email:"",name:"",password:""},onSubmit:(e,t)=>{r.mutate(e,{onSuccess:i=>{console.log("Data from server:",i)},onError:i=>{console.error("Error from server:",i)}})},children:()=>o.jsxs(D,{children:[o.jsx(w,{name:"email",validate:q,children:({field:e,form:t})=>o.jsxs(O,{isInvalid:t.errors.email&&t.touched.email,children:[o.jsx(y,{children:"Email Address"}),o.jsx(T,{...e,placeholder:"john.doe@example.com"}),o.jsx(C,{children:t.errors.email})]})}),o.jsx(w,{name:"name",validate:J,children:({field:e,form:t})=>o.jsxs(O,{isInvalid:t.errors.name&&t.touched.name,children:[o.jsx(y,{children:"Username"}),o.jsx(T,{...e,placeholder:"TvojTatkoRecords"}),o.jsx(C,{children:t.errors.name})]})}),o.jsx(w,{name:"password",validate:Q,children:({field:e,form:t})=>o.jsxs(O,{isInvalid:t.errors.password&&t.touched.password,children:[o.jsx(y,{children:"Password"}),o.jsx(T,{type:"password",...e,placeholder:"********"}),o.jsx(C,{children:t.errors.password})]})}),o.jsx(H,{mt:4,colorScheme:"teal",type:"submit",width:"full",children:"Register"})]})}),o.jsx(A,{mt:2,textAlign:"center",children:o.jsx(G,{href:"/",children:o.jsx(K,{color:"teal.500",children:"Already registered? Log in here."})})})]})}const ee=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"})),ae=[{configName:"onRenderClient",importPath:"/renderer/+onRenderClient.tsx",isValueFile:!0,exportValues:L},{configName:"Page",importPath:"/pages/register/+Page.tsx",isValueFile:!0,exportValues:ee}],ne={onBeforeRenderEnv:{definedAt:{isComputed:!0},valueSerialized:"null"},dataEnv:{definedAt:{isComputed:!0},valueSerialized:"null"},hydrationCanBeAborted:{definedAt:{filePathToShowToUser:"/renderer/+config.ts",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:"true"},hooksTimeout:{definedAt:{filePathToShowToUser:"/renderer/+config.ts",fileExportPathToShowToUser:["default","hooksTimeout"]},valueSerialized:'{"data":{"error":30000,"warning":10000}}'}};export{ae as configValuesImported,ne as configValuesSerialized};
